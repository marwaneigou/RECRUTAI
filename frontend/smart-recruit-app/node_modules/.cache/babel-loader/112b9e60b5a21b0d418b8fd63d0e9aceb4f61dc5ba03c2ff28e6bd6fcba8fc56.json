{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\igou\\\\Desktop\\\\RecrutIA - Copy\\\\frontend\\\\smart-recruit-app\\\\src\\\\components\\\\candidates\\\\JobApplicationModal.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport { XMarkIcon, DocumentTextIcon } from '@heroicons/react/24/outline';\nimport { useAuth } from '../../contexts/AuthContext';\nimport api from '../../services/api';\nimport toast from 'react-hot-toast';\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst JobApplicationModal = ({\n  job,\n  isOpen,\n  onClose,\n  onApplicationSubmitted\n}) => {\n  _s();\n  var _cvData$personalInfo, _cvData$personalInfo2;\n  const {\n    user\n  } = useAuth();\n  const [loading, setLoading] = useState(false);\n  const [cvData, setCvData] = useState(null);\n  const [matchScore, setMatchScore] = useState(null);\n  const [matchLoading, setMatchLoading] = useState(false);\n  const [coverLetterLoading, setCoverLetterLoading] = useState(false);\n  const [formData, setFormData] = useState({\n    coverLetter: '',\n    useCurrentCV: true\n  });\n  useEffect(() => {\n    if (isOpen && user) {\n      fetchCVData();\n    }\n  }, [isOpen, user]);\n  const fetchCVData = async () => {\n    try {\n      const response = await api.get('/candidates/cv-data');\n      console.log('JobApplicationModal - API response:', response);\n      console.log('JobApplicationModal - Response data:', response.data);\n\n      // Handle different possible response structures\n      let cvDataFromApi = null;\n      if (response.data && response.data.success) {\n        var _response$data$data;\n        cvDataFromApi = response.data.cvData || ((_response$data$data = response.data.data) === null || _response$data$data === void 0 ? void 0 : _response$data$data.cvData);\n      } else if (response.data && response.data.cvData) {\n        cvDataFromApi = response.data.cvData;\n      } else if (response.cvData) {\n        cvDataFromApi = response.cvData;\n      }\n      console.log('JobApplicationModal - Parsed CV data:', cvDataFromApi);\n      setCvData(cvDataFromApi);\n    } catch (error) {\n      console.error('Error fetching CV data:', error);\n      toast.error('Failed to load CV data');\n    }\n  };\n  const handleInputChange = e => {\n    const {\n      name,\n      value\n    } = e.target;\n    setFormData(prev => ({\n      ...prev,\n      [name]: value\n    }));\n  };\n  const calculateMatchScore = async () => {\n    if (!cvData || !job) {\n      toast.error('CV data or job information is missing');\n      return;\n    }\n    try {\n      var _cvData$skills, _cvData$skills2, _cvData$experience, _cvData$education, _cvData$projects, _cvData$certification;\n      setMatchLoading(true);\n\n      // Convert CV data to text format for analysis\n      const personalInfo = cvData.personalInfo || {};\n      const cvText = `\n        Name: ${personalInfo.firstName} ${personalInfo.lastName}\n        Email: ${personalInfo.email}\n        Phone: ${personalInfo.phone}\n        Location: ${personalInfo.address}\n\n        Professional Summary: ${cvData.professionalSummary || ''}\n\n        Technical Skills: ${((_cvData$skills = cvData.skills) === null || _cvData$skills === void 0 ? void 0 : _cvData$skills.filter(s => ['Programming', 'Frontend', 'Backend'].includes(s.category)).map(s => s.name).join(', ')) || ''}\n\n        Soft Skills: ${((_cvData$skills2 = cvData.skills) === null || _cvData$skills2 === void 0 ? void 0 : _cvData$skills2.filter(s => s.category === 'Soft').map(s => s.name).join(', ')) || ''}\n\n        Languages: ${cvData.languages || ''}\n\n        Experience: ${((_cvData$experience = cvData.experience) === null || _cvData$experience === void 0 ? void 0 : _cvData$experience.map(exp => `${exp.title} at ${exp.company} (${exp.startDate} - ${exp.current ? 'Present' : exp.endDate}): ${exp.description}`).join('\\n')) || ''}\n\n        Education: ${((_cvData$education = cvData.education) === null || _cvData$education === void 0 ? void 0 : _cvData$education.map(edu => `${edu.degree} from ${edu.institution} (${edu.endDate})`).join('\\n')) || ''}\n\n        Projects: ${((_cvData$projects = cvData.projects) === null || _cvData$projects === void 0 ? void 0 : _cvData$projects.map(proj => `${proj.name}: ${proj.description} (${proj.technologies})`).join('\\n')) || ''}\n\n        Certifications: ${((_cvData$certification = cvData.certifications) === null || _cvData$certification === void 0 ? void 0 : _cvData$certification.map(cert => `${cert.name} from ${cert.issuer} (${cert.date})`).join('\\n')) || ''}\n      `.trim();\n\n      // Call the analysis service\n      const response = await fetch('http://localhost:5002/api/analyze/calculate-match-score', {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json'\n        },\n        body: JSON.stringify({\n          cvText: cvText,\n          jobTitle: job.title,\n          jobDescription: job.description,\n          jobRequirements: job.requirements || job.description,\n          company: job.company\n        })\n      });\n      if (!response.ok) {\n        throw new Error(`HTTP error! status: ${response.status}`);\n      }\n      const result = await response.json();\n      console.log('Match score result:', result);\n      if (result.matchScore !== undefined) {\n        setMatchScore(result);\n        toast.success(`Match score calculated: ${result.matchScore}%`);\n      } else {\n        throw new Error('Invalid response format');\n      }\n    } catch (error) {\n      console.error('Error calculating match score:', error);\n      toast.error('Failed to calculate match score. Please try again.');\n    } finally {\n      setMatchLoading(false);\n    }\n  };\n  const generateCoverLetter = async () => {\n    if (!cvData || !job) {\n      toast.error('CV data or job information is missing');\n      return;\n    }\n    try {\n      var _cvData$skills3, _cvData$skills4, _cvData$experience2, _cvData$education2, _cvData$projects2, _cvData$certification2, _job$employer;\n      setCoverLetterLoading(true);\n\n      // Convert CV data to text format for analysis\n      const personalInfo = cvData.personalInfo || {};\n      const cvText = `\n        Name: ${personalInfo.firstName} ${personalInfo.lastName}\n        Email: ${personalInfo.email}\n        Phone: ${personalInfo.phone}\n        Location: ${personalInfo.address}\n\n        Professional Summary: ${cvData.professionalSummary || ''}\n\n        Technical Skills: ${((_cvData$skills3 = cvData.skills) === null || _cvData$skills3 === void 0 ? void 0 : _cvData$skills3.filter(s => ['Programming', 'Frontend', 'Backend'].includes(s.category)).map(s => s.name).join(', ')) || ''}\n\n        Soft Skills: ${((_cvData$skills4 = cvData.skills) === null || _cvData$skills4 === void 0 ? void 0 : _cvData$skills4.filter(s => s.category === 'Soft').map(s => s.name).join(', ')) || ''}\n\n        Languages: ${cvData.languages || ''}\n\n        Experience: ${((_cvData$experience2 = cvData.experience) === null || _cvData$experience2 === void 0 ? void 0 : _cvData$experience2.map(exp => `${exp.title} at ${exp.company} (${exp.startDate} - ${exp.current ? 'Present' : exp.endDate}): ${exp.description}`).join('\\n')) || ''}\n\n        Education: ${((_cvData$education2 = cvData.education) === null || _cvData$education2 === void 0 ? void 0 : _cvData$education2.map(edu => `${edu.degree} from ${edu.institution} (${edu.endDate})`).join('\\n')) || ''}\n\n        Projects: ${((_cvData$projects2 = cvData.projects) === null || _cvData$projects2 === void 0 ? void 0 : _cvData$projects2.map(proj => `${proj.name}: ${proj.description} (${proj.technologies})`).join('\\n')) || ''}\n\n        Certifications: ${((_cvData$certification2 = cvData.certifications) === null || _cvData$certification2 === void 0 ? void 0 : _cvData$certification2.map(cert => `${cert.name} from ${cert.issuer} (${cert.date})`).join('\\n')) || ''}\n      `.trim();\n\n      // Call the analysis service\n      const response = await fetch('http://localhost:5002/api/analyze/generate-cover-letter', {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json'\n        },\n        body: JSON.stringify({\n          cvText: cvText,\n          jobTitle: job.title,\n          jobDescription: job.description,\n          company: job.company || ((_job$employer = job.employer) === null || _job$employer === void 0 ? void 0 : _job$employer.company_name) || 'the company',\n          candidateName: `${personalInfo.firstName} ${personalInfo.lastName}`.trim() || 'Candidate'\n        })\n      });\n      if (!response.ok) {\n        throw new Error(`HTTP error! status: ${response.status}`);\n      }\n      const result = await response.json();\n      console.log('Cover letter result:', result);\n      if (result.coverLetter) {\n        setFormData(prev => ({\n          ...prev,\n          coverLetter: result.coverLetter\n        }));\n        toast.success(`AI cover letter generated! (${result.wordCount} words)`);\n      } else {\n        throw new Error('Invalid response format');\n      }\n    } catch (error) {\n      console.error('Error generating cover letter:', error);\n      toast.error('Failed to generate cover letter. Please try again.');\n    } finally {\n      setCoverLetterLoading(false);\n    }\n  };\n  const handleSubmit = async e => {\n    e.preventDefault();\n    if (!formData.coverLetter.trim()) {\n      toast.error('Please write a cover letter');\n      return;\n    }\n    if (!cvData || !cvData.isComplete) {\n      toast.error('Please complete your CV before applying');\n      return;\n    }\n    if (!matchScore || !matchScore.matchScore) {\n      toast.error('Please calculate the match score before applying');\n      return;\n    }\n    try {\n      var _cvData$skills5, _cvData$skills6;\n      setLoading(true);\n\n      // Create CV snapshot for this application\n      const personalInfo = cvData.personalInfo || {};\n      const cvSnapshot = {\n        first_name: personalInfo.firstName || '',\n        last_name: personalInfo.lastName || '',\n        email: personalInfo.email || '',\n        phone: personalInfo.phone || '',\n        address: personalInfo.address || '',\n        city: personalInfo.city || '',\n        country: personalInfo.country || '',\n        linkedin_url: personalInfo.linkedin || '',\n        github_url: personalInfo.github || '',\n        portfolio_url: personalInfo.website || '',\n        professional_summary: cvData.professionalSummary || '',\n        technical_skills: ((_cvData$skills5 = cvData.skills) === null || _cvData$skills5 === void 0 ? void 0 : _cvData$skills5.filter(s => ['Programming', 'Frontend', 'Backend'].includes(s.category)).map(s => s.name).join(', ')) || '',\n        soft_skills: ((_cvData$skills6 = cvData.skills) === null || _cvData$skills6 === void 0 ? void 0 : _cvData$skills6.filter(s => s.category === 'Soft').map(s => s.name).join(', ')) || '',\n        languages: cvData.languages || '',\n        work_experience: cvData.experience || [],\n        education: cvData.education || [],\n        projects: cvData.projects || [],\n        certifications: cvData.certifications || [],\n        selected_template: cvData.selectedTemplate || 'modern'\n      };\n      const applicationData = {\n        jobId: job.id,\n        coverLetter: formData.coverLetter,\n        cvSnapshot: cvSnapshot,\n        // Include match score data if calculated\n        ...(matchScore && {\n          matchScore: matchScore.matchScore,\n          matchAnalysis: matchScore.analysis,\n          matchStrengths: matchScore.strengths,\n          matchGaps: matchScore.gaps\n        })\n      };\n      await api.post('/applications', applicationData);\n      toast.success('Application submitted successfully!');\n      onApplicationSubmitted();\n      onClose();\n    } catch (error) {\n      var _error$response, _error$response$data, _error$response$data$;\n      console.error('Error submitting application:', error);\n      const errorMessage = ((_error$response = error.response) === null || _error$response === void 0 ? void 0 : (_error$response$data = _error$response.data) === null || _error$response$data === void 0 ? void 0 : (_error$response$data$ = _error$response$data.error) === null || _error$response$data$ === void 0 ? void 0 : _error$response$data$.message) || 'Failed to submit application';\n      toast.error(errorMessage);\n    } finally {\n      setLoading(false);\n    }\n  };\n  if (!isOpen) return null;\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"fixed inset-0 z-50 overflow-y-auto\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"flex items-center justify-center min-h-screen pt-4 px-4 pb-20 text-center sm:block sm:p-0\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"fixed inset-0 bg-gray-500 bg-opacity-75 transition-opacity\",\n        onClick: onClose\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 299,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"inline-block align-bottom bg-white rounded-lg text-left overflow-hidden shadow-xl transform transition-all sm:my-8 sm:align-middle sm:max-w-2xl sm:w-full\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"bg-white px-6 py-4 border-b border-gray-200\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex items-center justify-between\",\n            children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n              className: \"text-lg font-medium text-gray-900\",\n              children: [\"Apply for \", job === null || job === void 0 ? void 0 : job.title]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 304,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: onClose,\n              className: \"bg-white rounded-md text-gray-400 hover:text-gray-600\",\n              children: /*#__PURE__*/_jsxDEV(XMarkIcon, {\n                className: \"w-6 h-6\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 311,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 307,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 303,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 302,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n          onSubmit: handleSubmit,\n          className: \"bg-white px-6 py-6\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"mb-6\",\n            children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n              className: \"text-md font-semibold text-gray-900 mb-2\",\n              children: \"Job Details\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 319,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"bg-gray-50 p-4 rounded-lg\",\n              children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"font-medium\",\n                children: job === null || job === void 0 ? void 0 : job.title\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 321,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"text-sm text-gray-600\",\n                children: [job === null || job === void 0 ? void 0 : job.company, \" \\u2022 \", job === null || job === void 0 ? void 0 : job.location]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 322,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"text-sm text-gray-600 mt-2\",\n                children: job === null || job === void 0 ? void 0 : job.salary\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 323,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 320,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 318,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"mb-6\",\n            children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n              className: \"text-md font-semibold text-gray-900 mb-2\",\n              children: \"Your CV\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 329,\n              columnNumber: 15\n            }, this), cvData ? /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"bg-green-50 p-4 rounded-lg border border-green-200\",\n              children: /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"flex items-center\",\n                children: [/*#__PURE__*/_jsxDEV(DocumentTextIcon, {\n                  className: \"h-5 w-5 text-green-600 mr-2\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 333,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                    className: \"text-sm font-medium text-green-800\",\n                    children: [\"CV Ready: \", (_cvData$personalInfo = cvData.personalInfo) === null || _cvData$personalInfo === void 0 ? void 0 : _cvData$personalInfo.firstName, \" \", (_cvData$personalInfo2 = cvData.personalInfo) === null || _cvData$personalInfo2 === void 0 ? void 0 : _cvData$personalInfo2.lastName]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 335,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                    className: \"text-xs text-green-600\",\n                    children: [\"Template: \", cvData.selectedTemplate, \" \\u2022\", cvData.isComplete ? ' Complete' : ' Incomplete']\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 338,\n                    columnNumber: 23\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 334,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 332,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 331,\n              columnNumber: 17\n            }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"bg-red-50 p-4 rounded-lg border border-red-200\",\n              children: /*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"text-sm text-red-800\",\n                children: \"No CV found. Please create your CV first.\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 347,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 346,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 328,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"mb-6\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"flex items-center justify-between mb-3\",\n              children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n                className: \"text-md font-semibold text-gray-900\",\n                children: [\"CV-Job Match Analysis \", /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"text-red-500\",\n                  children: \"*\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 356,\n                  columnNumber: 41\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 355,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                type: \"button\",\n                onClick: calculateMatchScore,\n                disabled: matchLoading || !(cvData !== null && cvData !== void 0 && cvData.isComplete),\n                className: \"px-4 py-2 bg-purple-600 text-white rounded-md hover:bg-purple-700 disabled:bg-gray-400 disabled:cursor-not-allowed text-sm\",\n                children: matchLoading ? 'Calculating...' : 'Calculate Match Score'\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 358,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 354,\n              columnNumber: 15\n            }, this), matchScore ? /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"bg-blue-50 p-4 rounded-lg border border-blue-200\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"flex items-center mb-3\",\n                children: /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"flex-1\",\n                  children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"flex items-center\",\n                    children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                      className: \"text-2xl font-bold text-blue-900 mr-2\",\n                      children: [matchScore.matchScore, \"%\"]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 373,\n                      columnNumber: 25\n                    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"flex-1 bg-gray-200 rounded-full h-3\",\n                      children: /*#__PURE__*/_jsxDEV(\"div\", {\n                        className: \"bg-blue-600 h-3 rounded-full transition-all duration-500\",\n                        style: {\n                          width: `${matchScore.matchScore}%`\n                        }\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 377,\n                        columnNumber: 27\n                      }, this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 376,\n                      columnNumber: 25\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 372,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                    className: \"text-sm text-blue-700 mt-1\",\n                    children: matchScore.analysis\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 383,\n                    columnNumber: 23\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 371,\n                  columnNumber: 21\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 370,\n                columnNumber: 19\n              }, this), matchScore.strengths && matchScore.strengths.length > 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"mb-3\",\n                children: [/*#__PURE__*/_jsxDEV(\"h5\", {\n                  className: \"text-sm font-semibold text-green-800 mb-1\",\n                  children: \"\\u2705 Strengths:\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 389,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"ul\", {\n                  className: \"text-sm text-green-700 space-y-1\",\n                  children: matchScore.strengths.map((strength, index) => /*#__PURE__*/_jsxDEV(\"li\", {\n                    className: \"flex items-start\",\n                    children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                      className: \"mr-2\",\n                      children: \"\\u2022\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 393,\n                      columnNumber: 29\n                    }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                      children: strength\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 394,\n                      columnNumber: 29\n                    }, this)]\n                  }, index, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 392,\n                    columnNumber: 27\n                  }, this))\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 390,\n                  columnNumber: 23\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 388,\n                columnNumber: 21\n              }, this), matchScore.gaps && matchScore.gaps.length > 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n                children: [/*#__PURE__*/_jsxDEV(\"h5\", {\n                  className: \"text-sm font-semibold text-orange-800 mb-1\",\n                  children: \"\\u26A0\\uFE0F Areas to Address:\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 403,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"ul\", {\n                  className: \"text-sm text-orange-700 space-y-1\",\n                  children: matchScore.gaps.map((gap, index) => /*#__PURE__*/_jsxDEV(\"li\", {\n                    className: \"flex items-start\",\n                    children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                      className: \"mr-2\",\n                      children: \"\\u2022\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 407,\n                      columnNumber: 29\n                    }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                      children: gap\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 408,\n                      columnNumber: 29\n                    }, this)]\n                  }, index, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 406,\n                    columnNumber: 27\n                  }, this))\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 404,\n                  columnNumber: 23\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 402,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 369,\n              columnNumber: 17\n            }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"bg-red-50 p-4 rounded-lg border border-red-200\",\n              children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"text-sm text-red-600 text-center font-medium\",\n                children: \"\\u26A0\\uFE0F Match score calculation is required before applying\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 417,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"text-xs text-red-500 text-center mt-1\",\n                children: \"Click \\\"Calculate Match Score\\\" to see how well your CV matches this job\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 420,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 416,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 353,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"mb-6\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"flex items-center justify-between mb-3\",\n              children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                className: \"block text-sm font-medium text-gray-700\",\n                children: \"Cover Letter *\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 430,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                type: \"button\",\n                onClick: generateCoverLetter,\n                disabled: coverLetterLoading || !(cvData !== null && cvData !== void 0 && cvData.isComplete),\n                className: \"px-4 py-2 bg-gradient-to-r from-green-600 to-blue-600 text-white rounded-md hover:from-green-700 hover:to-blue-700 disabled:bg-gray-400 disabled:cursor-not-allowed text-sm flex items-center\",\n                children: coverLetterLoading ? /*#__PURE__*/_jsxDEV(_Fragment, {\n                  children: [/*#__PURE__*/_jsxDEV(\"svg\", {\n                    className: \"animate-spin -ml-1 mr-2 h-4 w-4 text-white\",\n                    xmlns: \"http://www.w3.org/2000/svg\",\n                    fill: \"none\",\n                    viewBox: \"0 0 24 24\",\n                    children: [/*#__PURE__*/_jsxDEV(\"circle\", {\n                      className: \"opacity-25\",\n                      cx: \"12\",\n                      cy: \"12\",\n                      r: \"10\",\n                      stroke: \"currentColor\",\n                      strokeWidth: \"4\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 442,\n                      columnNumber: 25\n                    }, this), /*#__PURE__*/_jsxDEV(\"path\", {\n                      className: \"opacity-75\",\n                      fill: \"currentColor\",\n                      d: \"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 443,\n                      columnNumber: 25\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 441,\n                    columnNumber: 23\n                  }, this), \"Generating...\"]\n                }, void 0, true) : /*#__PURE__*/_jsxDEV(_Fragment, {\n                  children: \"\\uD83E\\uDD16 AI Generate Cover Letter\"\n                }, void 0, false)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 433,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 429,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"textarea\", {\n              name: \"coverLetter\",\n              value: formData.coverLetter,\n              onChange: handleInputChange,\n              required: true,\n              rows: 8,\n              className: \"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500\",\n              placeholder: \"Write a compelling cover letter explaining why you're interested in this position and how your skills match the requirements...\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 454,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"flex justify-between items-center mt-1\",\n              children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"text-xs text-gray-500\",\n                children: [formData.coverLetter.length, \"/1000 characters\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 464,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"text-xs text-blue-600\",\n                children: \"\\uD83D\\uDCA1 Tip: Use AI to generate a personalized cover letter, then customize it\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 467,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 463,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 428,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex justify-end space-x-3\",\n            children: [/*#__PURE__*/_jsxDEV(\"button\", {\n              type: \"button\",\n              onClick: onClose,\n              className: \"px-4 py-2 border border-gray-300 rounded-md text-gray-700 hover:bg-gray-50\",\n              disabled: loading,\n              children: \"Cancel\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 475,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              type: \"submit\",\n              disabled: loading || !(cvData !== null && cvData !== void 0 && cvData.isComplete),\n              className: \"px-6 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 disabled:bg-gray-400 disabled:cursor-not-allowed\",\n              children: loading ? 'Submitting...' : 'Submit Application'\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 483,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 474,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 316,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 301,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 298,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 297,\n    columnNumber: 5\n  }, this);\n};\n_s(JobApplicationModal, \"lzj2VKQ0cCCtpH/zo678Vqw9YXw=\", false, function () {\n  return [useAuth];\n});\n_c = JobApplicationModal;\nexport default JobApplicationModal;\nvar _c;\n$RefreshReg$(_c, \"JobApplicationModal\");","map":{"version":3,"names":["React","useState","useEffect","XMarkIcon","DocumentTextIcon","useAuth","api","toast","jsxDEV","_jsxDEV","Fragment","_Fragment","JobApplicationModal","job","isOpen","onClose","onApplicationSubmitted","_s","_cvData$personalInfo","_cvData$personalInfo2","user","loading","setLoading","cvData","setCvData","matchScore","setMatchScore","matchLoading","setMatchLoading","coverLetterLoading","setCoverLetterLoading","formData","setFormData","coverLetter","useCurrentCV","fetchCVData","response","get","console","log","data","cvDataFromApi","success","_response$data$data","error","handleInputChange","e","name","value","target","prev","calculateMatchScore","_cvData$skills","_cvData$skills2","_cvData$experience","_cvData$education","_cvData$projects","_cvData$certification","personalInfo","cvText","firstName","lastName","email","phone","address","professionalSummary","skills","filter","s","includes","category","map","join","languages","experience","exp","title","company","startDate","current","endDate","description","education","edu","degree","institution","projects","proj","technologies","certifications","cert","issuer","date","trim","fetch","method","headers","body","JSON","stringify","jobTitle","jobDescription","jobRequirements","requirements","ok","Error","status","result","json","undefined","generateCoverLetter","_cvData$skills3","_cvData$skills4","_cvData$experience2","_cvData$education2","_cvData$projects2","_cvData$certification2","_job$employer","employer","company_name","candidateName","wordCount","handleSubmit","preventDefault","isComplete","_cvData$skills5","_cvData$skills6","cvSnapshot","first_name","last_name","city","country","linkedin_url","linkedin","github_url","github","portfolio_url","website","professional_summary","technical_skills","soft_skills","work_experience","selected_template","selectedTemplate","applicationData","jobId","id","matchAnalysis","analysis","matchStrengths","strengths","matchGaps","gaps","post","_error$response","_error$response$data","_error$response$data$","errorMessage","message","className","children","onClick","fileName","_jsxFileName","lineNumber","columnNumber","onSubmit","location","salary","type","disabled","style","width","length","strength","index","gap","xmlns","fill","viewBox","cx","cy","r","stroke","strokeWidth","d","onChange","required","rows","placeholder","_c","$RefreshReg$"],"sources":["C:/Users/igou/Desktop/RecrutIA - Copy/frontend/smart-recruit-app/src/components/candidates/JobApplicationModal.js"],"sourcesContent":["import React, { useState, useEffect } from 'react'\r\nimport { XMarkIcon, DocumentTextIcon } from '@heroicons/react/24/outline'\r\nimport { useAuth } from '../../contexts/AuthContext'\r\nimport api from '../../services/api'\r\nimport toast from 'react-hot-toast'\r\n\r\n\r\nconst JobApplicationModal = ({ job, isOpen, onClose, onApplicationSubmitted }) => {\r\n  const { user } = useAuth()\r\n  const [loading, setLoading] = useState(false)\r\n  const [cvData, setCvData] = useState(null)\r\n  const [matchScore, setMatchScore] = useState(null)\r\n  const [matchLoading, setMatchLoading] = useState(false)\r\n  const [coverLetterLoading, setCoverLetterLoading] = useState(false)\r\n  const [formData, setFormData] = useState({\r\n    coverLetter: '',\r\n    useCurrentCV: true\r\n  })\r\n\r\n  useEffect(() => {\r\n    if (isOpen && user) {\r\n      fetchCVData()\r\n    }\r\n  }, [isOpen, user])\r\n\r\n  const fetchCVData = async () => {\r\n    try {\r\n      const response = await api.get('/candidates/cv-data')\r\n      console.log('JobApplicationModal - API response:', response)\r\n      console.log('JobApplicationModal - Response data:', response.data)\r\n\r\n      // Handle different possible response structures\r\n      let cvDataFromApi = null\r\n      if (response.data && response.data.success) {\r\n        cvDataFromApi = response.data.cvData || response.data.data?.cvData\r\n      } else if (response.data && response.data.cvData) {\r\n        cvDataFromApi = response.data.cvData\r\n      } else if (response.cvData) {\r\n        cvDataFromApi = response.cvData\r\n      }\r\n\r\n      console.log('JobApplicationModal - Parsed CV data:', cvDataFromApi)\r\n      setCvData(cvDataFromApi)\r\n    } catch (error) {\r\n      console.error('Error fetching CV data:', error)\r\n      toast.error('Failed to load CV data')\r\n    }\r\n  }\r\n\r\n  const handleInputChange = (e) => {\r\n    const { name, value } = e.target\r\n    setFormData(prev => ({\r\n      ...prev,\r\n      [name]: value\r\n    }))\r\n  }\r\n\r\n  const calculateMatchScore = async () => {\r\n    if (!cvData || !job) {\r\n      toast.error('CV data or job information is missing')\r\n      return\r\n    }\r\n\r\n    try {\r\n      setMatchLoading(true)\r\n\r\n      // Convert CV data to text format for analysis\r\n      const personalInfo = cvData.personalInfo || {}\r\n      const cvText = `\r\n        Name: ${personalInfo.firstName} ${personalInfo.lastName}\r\n        Email: ${personalInfo.email}\r\n        Phone: ${personalInfo.phone}\r\n        Location: ${personalInfo.address}\r\n\r\n        Professional Summary: ${cvData.professionalSummary || ''}\r\n\r\n        Technical Skills: ${cvData.skills?.filter(s => ['Programming', 'Frontend', 'Backend'].includes(s.category))\r\n          .map(s => s.name).join(', ') || ''}\r\n\r\n        Soft Skills: ${cvData.skills?.filter(s => s.category === 'Soft')\r\n          .map(s => s.name).join(', ') || ''}\r\n\r\n        Languages: ${cvData.languages || ''}\r\n\r\n        Experience: ${cvData.experience?.map(exp =>\r\n          `${exp.title} at ${exp.company} (${exp.startDate} - ${exp.current ? 'Present' : exp.endDate}): ${exp.description}`\r\n        ).join('\\n') || ''}\r\n\r\n        Education: ${cvData.education?.map(edu =>\r\n          `${edu.degree} from ${edu.institution} (${edu.endDate})`\r\n        ).join('\\n') || ''}\r\n\r\n        Projects: ${cvData.projects?.map(proj =>\r\n          `${proj.name}: ${proj.description} (${proj.technologies})`\r\n        ).join('\\n') || ''}\r\n\r\n        Certifications: ${cvData.certifications?.map(cert =>\r\n          `${cert.name} from ${cert.issuer} (${cert.date})`\r\n        ).join('\\n') || ''}\r\n      `.trim()\r\n\r\n      // Call the analysis service\r\n      const response = await fetch('http://localhost:5002/api/analyze/calculate-match-score', {\r\n        method: 'POST',\r\n        headers: {\r\n          'Content-Type': 'application/json',\r\n        },\r\n        body: JSON.stringify({\r\n          cvText: cvText,\r\n          jobTitle: job.title,\r\n          jobDescription: job.description,\r\n          jobRequirements: job.requirements || job.description,\r\n          company: job.company\r\n        })\r\n      })\r\n\r\n      if (!response.ok) {\r\n        throw new Error(`HTTP error! status: ${response.status}`)\r\n      }\r\n\r\n      const result = await response.json()\r\n      console.log('Match score result:', result)\r\n\r\n      if (result.matchScore !== undefined) {\r\n        setMatchScore(result)\r\n        toast.success(`Match score calculated: ${result.matchScore}%`)\r\n      } else {\r\n        throw new Error('Invalid response format')\r\n      }\r\n    } catch (error) {\r\n      console.error('Error calculating match score:', error)\r\n      toast.error('Failed to calculate match score. Please try again.')\r\n    } finally {\r\n      setMatchLoading(false)\r\n    }\r\n  }\r\n\r\n  const generateCoverLetter = async () => {\r\n    if (!cvData || !job) {\r\n      toast.error('CV data or job information is missing')\r\n      return\r\n    }\r\n\r\n    try {\r\n      setCoverLetterLoading(true)\r\n\r\n      // Convert CV data to text format for analysis\r\n      const personalInfo = cvData.personalInfo || {}\r\n      const cvText = `\r\n        Name: ${personalInfo.firstName} ${personalInfo.lastName}\r\n        Email: ${personalInfo.email}\r\n        Phone: ${personalInfo.phone}\r\n        Location: ${personalInfo.address}\r\n\r\n        Professional Summary: ${cvData.professionalSummary || ''}\r\n\r\n        Technical Skills: ${cvData.skills?.filter(s => ['Programming', 'Frontend', 'Backend'].includes(s.category))\r\n          .map(s => s.name).join(', ') || ''}\r\n\r\n        Soft Skills: ${cvData.skills?.filter(s => s.category === 'Soft')\r\n          .map(s => s.name).join(', ') || ''}\r\n\r\n        Languages: ${cvData.languages || ''}\r\n\r\n        Experience: ${cvData.experience?.map(exp =>\r\n          `${exp.title} at ${exp.company} (${exp.startDate} - ${exp.current ? 'Present' : exp.endDate}): ${exp.description}`\r\n        ).join('\\n') || ''}\r\n\r\n        Education: ${cvData.education?.map(edu =>\r\n          `${edu.degree} from ${edu.institution} (${edu.endDate})`\r\n        ).join('\\n') || ''}\r\n\r\n        Projects: ${cvData.projects?.map(proj =>\r\n          `${proj.name}: ${proj.description} (${proj.technologies})`\r\n        ).join('\\n') || ''}\r\n\r\n        Certifications: ${cvData.certifications?.map(cert =>\r\n          `${cert.name} from ${cert.issuer} (${cert.date})`\r\n        ).join('\\n') || ''}\r\n      `.trim()\r\n\r\n      // Call the analysis service\r\n      const response = await fetch('http://localhost:5002/api/analyze/generate-cover-letter', {\r\n        method: 'POST',\r\n        headers: {\r\n          'Content-Type': 'application/json',\r\n        },\r\n        body: JSON.stringify({\r\n          cvText: cvText,\r\n          jobTitle: job.title,\r\n          jobDescription: job.description,\r\n          company: job.company || job.employer?.company_name || 'the company',\r\n          candidateName: `${personalInfo.firstName} ${personalInfo.lastName}`.trim() || 'Candidate'\r\n        })\r\n      })\r\n\r\n      if (!response.ok) {\r\n        throw new Error(`HTTP error! status: ${response.status}`)\r\n      }\r\n\r\n      const result = await response.json()\r\n      console.log('Cover letter result:', result)\r\n\r\n      if (result.coverLetter) {\r\n        setFormData(prev => ({\r\n          ...prev,\r\n          coverLetter: result.coverLetter\r\n        }))\r\n        toast.success(`AI cover letter generated! (${result.wordCount} words)`)\r\n      } else {\r\n        throw new Error('Invalid response format')\r\n      }\r\n    } catch (error) {\r\n      console.error('Error generating cover letter:', error)\r\n      toast.error('Failed to generate cover letter. Please try again.')\r\n    } finally {\r\n      setCoverLetterLoading(false)\r\n    }\r\n  }\r\n\r\n  const handleSubmit = async (e) => {\r\n    e.preventDefault()\r\n\r\n    if (!formData.coverLetter.trim()) {\r\n      toast.error('Please write a cover letter')\r\n      return\r\n    }\r\n\r\n    if (!cvData || !cvData.isComplete) {\r\n      toast.error('Please complete your CV before applying')\r\n      return\r\n    }\r\n\r\n    if (!matchScore || !matchScore.matchScore) {\r\n      toast.error('Please calculate the match score before applying')\r\n      return\r\n    }\r\n\r\n    try {\r\n      setLoading(true)\r\n\r\n      // Create CV snapshot for this application\r\n      const personalInfo = cvData.personalInfo || {}\r\n      const cvSnapshot = {\r\n        first_name: personalInfo.firstName || '',\r\n        last_name: personalInfo.lastName || '',\r\n        email: personalInfo.email || '',\r\n        phone: personalInfo.phone || '',\r\n        address: personalInfo.address || '',\r\n        city: personalInfo.city || '',\r\n        country: personalInfo.country || '',\r\n        linkedin_url: personalInfo.linkedin || '',\r\n        github_url: personalInfo.github || '',\r\n        portfolio_url: personalInfo.website || '',\r\n        professional_summary: cvData.professionalSummary || '',\r\n        technical_skills: cvData.skills?.filter(s => ['Programming', 'Frontend', 'Backend'].includes(s.category))\r\n          .map(s => s.name).join(', ') || '',\r\n        soft_skills: cvData.skills?.filter(s => s.category === 'Soft')\r\n          .map(s => s.name).join(', ') || '',\r\n        languages: cvData.languages || '',\r\n        work_experience: cvData.experience || [],\r\n        education: cvData.education || [],\r\n        projects: cvData.projects || [],\r\n        certifications: cvData.certifications || [],\r\n        selected_template: cvData.selectedTemplate || 'modern'\r\n      }\r\n\r\n      const applicationData = {\r\n        jobId: job.id,\r\n        coverLetter: formData.coverLetter,\r\n        cvSnapshot: cvSnapshot,\r\n        // Include match score data if calculated\r\n        ...(matchScore && {\r\n          matchScore: matchScore.matchScore,\r\n          matchAnalysis: matchScore.analysis,\r\n          matchStrengths: matchScore.strengths,\r\n          matchGaps: matchScore.gaps\r\n        })\r\n      }\r\n\r\n      await api.post('/applications', applicationData)\r\n      toast.success('Application submitted successfully!')\r\n      onApplicationSubmitted()\r\n      onClose()\r\n    } catch (error) {\r\n      console.error('Error submitting application:', error)\r\n      const errorMessage = error.response?.data?.error?.message || 'Failed to submit application'\r\n      toast.error(errorMessage)\r\n    } finally {\r\n      setLoading(false)\r\n    }\r\n  }\r\n\r\n  if (!isOpen) return null\r\n\r\n  return (\r\n    <div className=\"fixed inset-0 z-50 overflow-y-auto\">\r\n      <div className=\"flex items-center justify-center min-h-screen pt-4 px-4 pb-20 text-center sm:block sm:p-0\">\r\n        <div className=\"fixed inset-0 bg-gray-500 bg-opacity-75 transition-opacity\" onClick={onClose} />\r\n        \r\n        <div className=\"inline-block align-bottom bg-white rounded-lg text-left overflow-hidden shadow-xl transform transition-all sm:my-8 sm:align-middle sm:max-w-2xl sm:w-full\">\r\n          <div className=\"bg-white px-6 py-4 border-b border-gray-200\">\r\n            <div className=\"flex items-center justify-between\">\r\n              <h3 className=\"text-lg font-medium text-gray-900\">\r\n                Apply for {job?.title}\r\n              </h3>\r\n              <button\r\n                onClick={onClose}\r\n                className=\"bg-white rounded-md text-gray-400 hover:text-gray-600\"\r\n              >\r\n                <XMarkIcon className=\"w-6 h-6\" />\r\n              </button>\r\n            </div>\r\n          </div>\r\n\r\n          <form onSubmit={handleSubmit} className=\"bg-white px-6 py-6\">\r\n            {/* Job Information */}\r\n            <div className=\"mb-6\">\r\n              <h4 className=\"text-md font-semibold text-gray-900 mb-2\">Job Details</h4>\r\n              <div className=\"bg-gray-50 p-4 rounded-lg\">\r\n                <p className=\"font-medium\">{job?.title}</p>\r\n                <p className=\"text-sm text-gray-600\">{job?.company}  {job?.location}</p>\r\n                <p className=\"text-sm text-gray-600 mt-2\">{job?.salary}</p>\r\n              </div>\r\n            </div>\r\n\r\n            {/* CV Status */}\r\n            <div className=\"mb-6\">\r\n              <h4 className=\"text-md font-semibold text-gray-900 mb-2\">Your CV</h4>\r\n              {cvData ? (\r\n                <div className=\"bg-green-50 p-4 rounded-lg border border-green-200\">\r\n                  <div className=\"flex items-center\">\r\n                    <DocumentTextIcon className=\"h-5 w-5 text-green-600 mr-2\" />\r\n                    <div>\r\n                      <p className=\"text-sm font-medium text-green-800\">\r\n                        CV Ready: {cvData.personalInfo?.firstName} {cvData.personalInfo?.lastName}\r\n                      </p>\r\n                      <p className=\"text-xs text-green-600\">\r\n                        Template: {cvData.selectedTemplate} \r\n                        {cvData.isComplete ? ' Complete' : ' Incomplete'}\r\n                      </p>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              ) : (\r\n                <div className=\"bg-red-50 p-4 rounded-lg border border-red-200\">\r\n                  <p className=\"text-sm text-red-800\">No CV found. Please create your CV first.</p>\r\n                </div>\r\n              )}\r\n            </div>\r\n\r\n            {/* Match Score Section */}\r\n            <div className=\"mb-6\">\r\n              <div className=\"flex items-center justify-between mb-3\">\r\n                <h4 className=\"text-md font-semibold text-gray-900\">\r\n                  CV-Job Match Analysis <span className=\"text-red-500\">*</span>\r\n                </h4>\r\n                <button\r\n                  type=\"button\"\r\n                  onClick={calculateMatchScore}\r\n                  disabled={matchLoading || !cvData?.isComplete}\r\n                  className=\"px-4 py-2 bg-purple-600 text-white rounded-md hover:bg-purple-700 disabled:bg-gray-400 disabled:cursor-not-allowed text-sm\"\r\n                >\r\n                  {matchLoading ? 'Calculating...' : 'Calculate Match Score'}\r\n                </button>\r\n              </div>\r\n\r\n              {matchScore ? (\r\n                <div className=\"bg-blue-50 p-4 rounded-lg border border-blue-200\">\r\n                  <div className=\"flex items-center mb-3\">\r\n                    <div className=\"flex-1\">\r\n                      <div className=\"flex items-center\">\r\n                        <span className=\"text-2xl font-bold text-blue-900 mr-2\">\r\n                          {matchScore.matchScore}%\r\n                        </span>\r\n                        <div className=\"flex-1 bg-gray-200 rounded-full h-3\">\r\n                          <div\r\n                            className=\"bg-blue-600 h-3 rounded-full transition-all duration-500\"\r\n                            style={{ width: `${matchScore.matchScore}%` }}\r\n                          ></div>\r\n                        </div>\r\n                      </div>\r\n                      <p className=\"text-sm text-blue-700 mt-1\">{matchScore.analysis}</p>\r\n                    </div>\r\n                  </div>\r\n\r\n                  {matchScore.strengths && matchScore.strengths.length > 0 && (\r\n                    <div className=\"mb-3\">\r\n                      <h5 className=\"text-sm font-semibold text-green-800 mb-1\"> Strengths:</h5>\r\n                      <ul className=\"text-sm text-green-700 space-y-1\">\r\n                        {matchScore.strengths.map((strength, index) => (\r\n                          <li key={index} className=\"flex items-start\">\r\n                            <span className=\"mr-2\"></span>\r\n                            <span>{strength}</span>\r\n                          </li>\r\n                        ))}\r\n                      </ul>\r\n                    </div>\r\n                  )}\r\n\r\n                  {matchScore.gaps && matchScore.gaps.length > 0 && (\r\n                    <div>\r\n                      <h5 className=\"text-sm font-semibold text-orange-800 mb-1\"> Areas to Address:</h5>\r\n                      <ul className=\"text-sm text-orange-700 space-y-1\">\r\n                        {matchScore.gaps.map((gap, index) => (\r\n                          <li key={index} className=\"flex items-start\">\r\n                            <span className=\"mr-2\"></span>\r\n                            <span>{gap}</span>\r\n                          </li>\r\n                        ))}\r\n                      </ul>\r\n                    </div>\r\n                  )}\r\n                </div>\r\n              ) : (\r\n                <div className=\"bg-red-50 p-4 rounded-lg border border-red-200\">\r\n                  <p className=\"text-sm text-red-600 text-center font-medium\">\r\n                     Match score calculation is required before applying\r\n                  </p>\r\n                  <p className=\"text-xs text-red-500 text-center mt-1\">\r\n                    Click \"Calculate Match Score\" to see how well your CV matches this job\r\n                  </p>\r\n                </div>\r\n              )}\r\n            </div>\r\n\r\n            {/* Cover Letter */}\r\n            <div className=\"mb-6\">\r\n              <div className=\"flex items-center justify-between mb-3\">\r\n                <label className=\"block text-sm font-medium text-gray-700\">\r\n                  Cover Letter *\r\n                </label>\r\n                <button\r\n                  type=\"button\"\r\n                  onClick={generateCoverLetter}\r\n                  disabled={coverLetterLoading || !cvData?.isComplete}\r\n                  className=\"px-4 py-2 bg-gradient-to-r from-green-600 to-blue-600 text-white rounded-md hover:from-green-700 hover:to-blue-700 disabled:bg-gray-400 disabled:cursor-not-allowed text-sm flex items-center\"\r\n                >\r\n                  {coverLetterLoading ? (\r\n                    <>\r\n                      <svg className=\"animate-spin -ml-1 mr-2 h-4 w-4 text-white\" xmlns=\"http://www.w3.org/2000/svg\" fill=\"none\" viewBox=\"0 0 24 24\">\r\n                        <circle className=\"opacity-25\" cx=\"12\" cy=\"12\" r=\"10\" stroke=\"currentColor\" strokeWidth=\"4\"></circle>\r\n                        <path className=\"opacity-75\" fill=\"currentColor\" d=\"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z\"></path>\r\n                      </svg>\r\n                      Generating...\r\n                    </>\r\n                  ) : (\r\n                    <>\r\n                       AI Generate Cover Letter\r\n                    </>\r\n                  )}\r\n                </button>\r\n              </div>\r\n              <textarea\r\n                name=\"coverLetter\"\r\n                value={formData.coverLetter}\r\n                onChange={handleInputChange}\r\n                required\r\n                rows={8}\r\n                className=\"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500\"\r\n                placeholder=\"Write a compelling cover letter explaining why you're interested in this position and how your skills match the requirements...\"\r\n              />\r\n              <div className=\"flex justify-between items-center mt-1\">\r\n                <p className=\"text-xs text-gray-500\">\r\n                  {formData.coverLetter.length}/1000 characters\r\n                </p>\r\n                <p className=\"text-xs text-blue-600\">\r\n                   Tip: Use AI to generate a personalized cover letter, then customize it\r\n                </p>\r\n              </div>\r\n            </div>\r\n\r\n            {/* Submit Button */}\r\n            <div className=\"flex justify-end space-x-3\">\r\n              <button\r\n                type=\"button\"\r\n                onClick={onClose}\r\n                className=\"px-4 py-2 border border-gray-300 rounded-md text-gray-700 hover:bg-gray-50\"\r\n                disabled={loading}\r\n              >\r\n                Cancel\r\n              </button>\r\n              <button\r\n                type=\"submit\"\r\n                disabled={loading || !cvData?.isComplete}\r\n                className=\"px-6 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 disabled:bg-gray-400 disabled:cursor-not-allowed\"\r\n              >\r\n                {loading ? 'Submitting...' : 'Submit Application'}\r\n              </button>\r\n            </div>\r\n          </form>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default JobApplicationModal\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}