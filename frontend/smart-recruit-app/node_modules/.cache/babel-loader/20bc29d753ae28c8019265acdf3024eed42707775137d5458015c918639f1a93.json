{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\igou\\\\Desktop\\\\RecrutIA - Copy\\\\frontend\\\\smart-recruit-app\\\\src\\\\components\\\\auth\\\\ProtectedRoute.js\",\n  _s = $RefreshSig$();\nimport React from 'react';\nimport { Navigate, useLocation } from 'react-router-dom';\nimport { useAuth } from '../../contexts/AuthContext';\nimport LoadingSpinner from '../common/LoadingSpinner';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst ProtectedRoute = ({\n  children,\n  requiredRoles = [],\n  redirectTo = '/login',\n  fallback = null\n}) => {\n  _s();\n  const {\n    isAuthenticated,\n    isLoading,\n    hasAnyRole\n  } = useAuth();\n  const location = useLocation();\n\n  // Show loading spinner while checking authentication\n  if (isLoading) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"min-h-screen flex items-center justify-center bg-gray-50\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"text-center\",\n        children: [/*#__PURE__*/_jsxDEV(LoadingSpinner, {\n          size: \"lg\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 20,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"mt-4 text-gray-600\",\n          children: \"Loading...\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 21,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 19,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 18,\n      columnNumber: 7\n    }, this);\n  }\n\n  // Redirect to login if not authenticated\n  if (!isAuthenticated) {\n    return /*#__PURE__*/_jsxDEV(Navigate, {\n      to: redirectTo,\n      state: {\n        from: location\n      },\n      replace: true\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 30,\n      columnNumber: 7\n    }, this);\n  }\n\n  // Check role-based access if roles are specified\n  if (requiredRoles.length > 0 && !hasAnyRole(requiredRoles)) {\n    // Show fallback component or redirect to unauthorized page\n    if (fallback) {\n      return fallback;\n    }\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"min-h-screen flex items-center justify-center bg-gray-50\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"text-center\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"mx-auto h-12 w-12 flex items-center justify-center rounded-full bg-error-100\",\n          children: /*#__PURE__*/_jsxDEV(\"svg\", {\n            className: \"h-6 w-6 text-error-600\",\n            fill: \"none\",\n            viewBox: \"0 0 24 24\",\n            stroke: \"currentColor\",\n            children: /*#__PURE__*/_jsxDEV(\"path\", {\n              strokeLinecap: \"round\",\n              strokeLinejoin: \"round\",\n              strokeWidth: 2,\n              d: \"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.964-.833-2.732 0L3.732 16.5c-.77.833.192 2.5 1.732 2.5z\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 50,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 49,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 48,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"h2\", {\n          className: \"mt-4 text-lg font-medium text-gray-900\",\n          children: \"Access Denied\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 53,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"mt-2 text-sm text-gray-600\",\n          children: \"You don't have permission to access this page.\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 54,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"mt-6\",\n          children: /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: () => window.history.back(),\n            className: \"btn-primary\",\n            children: \"Go Back\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 58,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 57,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 47,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 46,\n      columnNumber: 7\n    }, this);\n  }\n\n  // Render children if all checks pass\n  return children;\n};\n_s(ProtectedRoute, \"GbXxbEHpm6kZweuh7yOOtrth69A=\", false, function () {\n  return [useAuth, useLocation];\n});\n_c = ProtectedRoute;\nexport default ProtectedRoute;\nvar _c;\n$RefreshReg$(_c, \"ProtectedRoute\");","map":{"version":3,"names":["React","Navigate","useLocation","useAuth","LoadingSpinner","jsxDEV","_jsxDEV","ProtectedRoute","children","requiredRoles","redirectTo","fallback","_s","isAuthenticated","isLoading","hasAnyRole","location","className","size","fileName","_jsxFileName","lineNumber","columnNumber","to","state","from","replace","length","fill","viewBox","stroke","strokeLinecap","strokeLinejoin","strokeWidth","d","onClick","window","history","back","_c","$RefreshReg$"],"sources":["C:/Users/igou/Desktop/RecrutIA - Copy/frontend/smart-recruit-app/src/components/auth/ProtectedRoute.js"],"sourcesContent":["import React from 'react'\nimport { Navigate, useLocation } from 'react-router-dom'\nimport { useAuth } from '../../contexts/AuthContext'\nimport LoadingSpinner from '../common/LoadingSpinner'\n\nconst ProtectedRoute = ({ \n  children, \n  requiredRoles = [], \n  redirectTo = '/login',\n  fallback = null \n}) => {\n  const { isAuthenticated, isLoading, hasAnyRole } = useAuth()\n  const location = useLocation()\n\n  // Show loading spinner while checking authentication\n  if (isLoading) {\n    return (\n      <div className=\"min-h-screen flex items-center justify-center bg-gray-50\">\n        <div className=\"text-center\">\n          <LoadingSpinner size=\"lg\" />\n          <p className=\"mt-4 text-gray-600\">Loading...</p>\n        </div>\n      </div>\n    )\n  }\n\n  // Redirect to login if not authenticated\n  if (!isAuthenticated) {\n    return (\n      <Navigate \n        to={redirectTo} \n        state={{ from: location }} \n        replace \n      />\n    )\n  }\n\n  // Check role-based access if roles are specified\n  if (requiredRoles.length > 0 && !hasAnyRole(requiredRoles)) {\n    // Show fallback component or redirect to unauthorized page\n    if (fallback) {\n      return fallback\n    }\n    \n    return (\n      <div className=\"min-h-screen flex items-center justify-center bg-gray-50\">\n        <div className=\"text-center\">\n          <div className=\"mx-auto h-12 w-12 flex items-center justify-center rounded-full bg-error-100\">\n            <svg className=\"h-6 w-6 text-error-600\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\">\n              <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.964-.833-2.732 0L3.732 16.5c-.77.833.192 2.5 1.732 2.5z\" />\n            </svg>\n          </div>\n          <h2 className=\"mt-4 text-lg font-medium text-gray-900\">Access Denied</h2>\n          <p className=\"mt-2 text-sm text-gray-600\">\n            You don't have permission to access this page.\n          </p>\n          <div className=\"mt-6\">\n            <button\n              onClick={() => window.history.back()}\n              className=\"btn-primary\"\n            >\n              Go Back\n            </button>\n          </div>\n        </div>\n      </div>\n    )\n  }\n\n  // Render children if all checks pass\n  return children\n}\n\nexport default ProtectedRoute\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}